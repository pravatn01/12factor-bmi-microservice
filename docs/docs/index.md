# BMI Calculator Microservice ğŸ‹ï¸â€â™‚ï¸

A modern, BMI (Body Mass Index) calculator microservice built with FastAPI and Streamlit. This application follows the 12-Factor methodology for building software-as-a-service applications.

## âœ¨ Features

- **Real-time BMI Calculation**: Instantly calculate BMI with weight and height inputs
- **BMI History Tracking**: Store and view past BMI calculations
- **Modern UI**: Clean and responsive interface built with Streamlit
- **RESTful API**: Well-documented API endpoints using FastAPI
- **Database Integration**: Persistent storage using MySQL
- **Comprehensive Documentation**: Including API docs and deployment guides

## ğŸ­ 12-Factor Compliance

This application implements key principles from the twelve-factor methodology for building modern, scalable applications.

### Implemented Principles

#### 1ï¸âƒ£ Codebase

- Single codebase tracked in version control
- Enhanced with pre-commit hooks for code quality

#### 2ï¸âƒ£ Dependencies

- Explicitly declared in requirements.txt
- Isolated in virtual environment

#### 3ï¸âƒ£ Config

- Environment variables stored in .env
- Virtual environment setup for isolation

#### 4ï¸âƒ£ Backing Services

- MySQL database treated as attached resource
- Clean separation of database configuration

#### 5ï¸âƒ£ Processes

- Stateless application processes
- Clean separation of concerns

#### 6ï¸âƒ£ Port Binding

- Services exported via port binding
- Backend and frontend on separate ports

#### 7ï¸âƒ£ Concurrency

- Implemented using asyncio
- Scalable process model

#### 8ï¸âƒ£ Disposability

- Fast startup and graceful shutdown
- Implemented using lifecycle event context managers

#### 9ï¸âƒ£ Logs

- Implemented using Loguru
- Treated as event streams

## ğŸ› ï¸ Tech Stack

- **Backend**: FastAPI (Python)
- **Frontend**: Streamlit
- **Database**: MySQL
- **Documentation**: MkDocs with Material theme
- **Testing**: pytest
- **Logging**: Loguru

## ğŸ“ Project Structure

```
_12factor_bmi_microservice/              # Root directory
â”œâ”€â”€ _12factor_bmi_microservice/          # Inner directory
â”‚   â”œâ”€â”€ backend/                         # Backend service
â”‚   â”‚   â””â”€â”€ main.py                      # FastAPI application
â”‚   â””â”€â”€ frontend/                        # Frontend service
â”‚       â””â”€â”€ app.py                       # Streamlit interface
â”œâ”€â”€ tests/                               # Test files
â”‚   â””â”€â”€ test_bmi_api.py                  # API tests
â”œâ”€â”€ docs/                                # Documentation
â”œâ”€â”€ images/                              # Screenshots
â”œâ”€â”€ .env                                 # Environment variables
â””â”€â”€ requirements.txt                     # Dependencies
```

## ğŸ”Œ API Endpoints

### Calculate BMI

```http
POST /calculate-bmi
```

Request body:

```json
{
  "name": "string",
  "weight": "float", // in kilograms
  "height": "float" // in meters
}
```

### Get BMI History

```http
GET /bmi/history
```

### Clear History

```http
DELETE /bmi/history
```

## ğŸ“Š BMI Categories

| Category    | BMI Range |
| ----------- | --------- |
| Underweight | < 18.5    |
| Normal      | 18.5-24.9 |
| Overweight  | 25-29.9   |
| Obese       | â‰¥ 30      |

## ğŸ“š Documentation Types

### API Documentation

The API documentation is automatically generated by FastAPI and is available when the backend service is running:

- **Swagger UI**: Available at `http://localhost:8000/docs`
- **ReDoc**: Available at `http://localhost:8000/redoc`

These provide interactive documentation for all API endpoints, including:

- Request/Response schemas
- Authentication methods
- Example requests
- Try-it-out functionality

### Project Documentation

You're currently viewing the project documentation, which covers:

- Getting Started Guide
- Architecture Overview
- Development Guide
- Deployment Instructions
- Testing Procedures
- Security Considerations

## ğŸ”’ Security

- Input validation on both frontend and backend
- Database connection pooling
- Environment variable configuration
- No sensitive data exposure

## ğŸ§ª Testing

The project includes comprehensive test coverage:

```python
def test_calculate_bmi_normal_weight(test_client):
    """Testing BMI calculation for normal weight"""
    test_input = {
        "name": "John Doe",
        "weight": 70.0,  # kg
        "height": 1.75   # meters
    }
    response = test_client.post("/calculate-bmi", json=test_input)
    assert response.status_code == 200
    data = response.json()
    assert data["category"] == "Normal weight"
```

## ğŸŒŸ Future Enhancements

- User authentication
- Data export functionality
- Metric/Imperial unit conversion
- BMI trends visualization
- Docker containerization
- CI/CD pipeline

## ğŸ“¹ Video Tutorial

Check out our video tutorial on YouTube:

[![BMI Calculator Microservice Tutorial](https://img.youtube.com/vi/TaVXJhU9zj8/0.jpg)](https://www.youtube.com/watch?v=TaVXJhU9zj8)
